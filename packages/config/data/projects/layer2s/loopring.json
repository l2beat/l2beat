{"type":"layer2","id":"loopring","badges":["AppChain","EthereumCalldata"],"display":{"name":"Loopring","slug":"loopring","description":"Loopring is a ZK Rollup exchange protocol for trading and payments.","purposes":["NFT","AMM"],"provider":"Loopring","category":"ZK Rollup","links":{"websites":["https://loopring.org"],"apps":["https://loopring.io/#/trade"],"documentation":["https://github.com/Loopring/protocols/blob/master/packages/loopring_v3/DESIGN.md","https://docs.loopring.io/"],"explorers":["https://explorer.loopring.io/"],"repositories":["https://github.com/Loopring/protocols"],"socialMedia":["https://loopring.org/#/blog","https://medium.com/loopring-protocol","https://twitter.com/loopringorg","https://discord.gg/loopring","https://youtube.com/c/loopring","https://weibo.com/loopringfoundation","https://reddit.com/r/loopringorg/","https://loopring.substack.com/"]},"activityDataSource":"Explorer API","liveness":{"explanation":"Loopring is a ZK rollup that posts state diffs to the L1. For a transaction to be considered final, the state diffs have to be submitted and validity proof should be generated, submitted, and verified. "},"finality":{"finalizationPeriod":0}},"config":{"associatedTokens":["LRC"],"escrows":[{"address":"0x7D3D221A8D8AbDd868E8e88811fFaF033e68E108","sinceTimestamp":1575539271,"tokens":["LRC","USDT"],"isHistorical":true,"chain":"ethereum"},{"address":"0xD97D09f3bd931a14382ac60f156C1285a56Bb51B","sinceTimestamp":1578284114,"tokens":["LRC","USDT"],"isHistorical":true,"chain":"ethereum"},{"address":"0x674bdf20A0F284D710BC40872100128e2d66Bd3f","sinceTimestamp":1603949642,"tokens":"*","chain":"ethereum"}],"transactionApi":{"type":"loopring","defaultUrl":"https://api3.loopring.io/api/v3","defaultCallsPerMinute":240},"trackedTxs":[{"uses":[{"type":"liveness","subtype":"stateUpdates"},{"type":"l2costs","subtype":"stateUpdates"}],"query":{"formula":"functionCall","address":"0x153CdDD727e407Cb951f728F24bEB9A5FaaA8512","selector":"0xdcb2aa31","functionSignature":"function submitBlocksWithCallbacks(bool isDataCompressed, bytes calldata data, ((uint16,(uint16,uint16,uint16,bytes)[])[], address[])  calldata config)","sinceTimestamp":1616396742}}],"liveness":{"duplicateData":{"from":"stateUpdates","to":"proofSubmissions"}},"finality":{"lag":0,"type":"Loopring","minTimestamp":1616396742,"stateUpdate":"disabled"}},"dataAvailability":{"layer":{"value":"Ethereum (calldata)","sentiment":"good","description":"The data is posted to Ethereum as calldata."},"bridge":{"value":"Enshrined","sentiment":"good","description":"The validating bridge has access to all the data, as it is posted on chain."},"mode":"State diffs"},"riskView":{"stateValidation":{"value":"ZK proofs (SN)","description":"zkSNARKS are zero knowledge proofs that ensure state correctness, but require trusted setup.","sentiment":"good","definingMetric":null},"dataAvailability":{"value":"Onchain","description":"All of the data needed for proof construction is published on Ethereum L1.","sentiment":"good","definingMetric":null},"exitWindow":{"value":"None","description":"There is no window for users to exit in case of an unwanted regular upgrade since contracts are instantly upgradable.","sentiment":"bad","definingMetric":-1296000},"sequencerFailure":{"value":"Force via L1","description":"Users can force the sequencer to include a withdrawal transaction by submitting a request through L1 with a 0.02 ETH fee. If the sequencer is down for more than 15d, users can use the exit hatch to withdraw their funds. The sequencer can censor individual deposits, but in such case after 15d users can get their funds back.","sentiment":"good","definingMetric":1296000,"sources":[{"contract":"ExchangeV3","references":["https://etherscan.io/address/0x26d8Ba776a067C5928841985bCe342f75BAE7E82#code#L7252","https://etherscan.io/address/0x26d8Ba776a067C5928841985bCe342f75BAE7E82#code#L6195","https://etherscan.io/address/0x26d8Ba776a067C5928841985bCe342f75BAE7E82#code#L6090"]},{"contract":"LoopringV3","references":["https://etherscan.io/address/0xe56D6ccab6551932C0356E4e8d5dAF0630920C71#code#L1825"]}]},"proposerFailure":{"value":"Use escape hatch","description":"Users are able to trustlessly exit by submitting a Merkle proof of funds.","sentiment":"good","definingMetric":null,"sources":[{"contract":"ExchangeV3","references":["https://etherscan.io/address/0x26d8Ba776a067C5928841985bCe342f75BAE7E82#code#L8159"]}]},"destinationToken":{"value":"Native & Canonical","description":"LRC transferred via this bridge is used to pay for gas and other tokens transferred are considered canonical on the destination chain.","sentiment":"good"},"validatedBy":{"value":"Ethereum","description":"Smart contracts on Ethereum validate all bridge transfers.","sentiment":"good"}},"stage":{"stage":"Stage 0","missing":{"nextStage":"Stage 1","requirements":["Upgrades executed by actors with more centralized control than a Security Council provide less than 7d for users to exit if the permissioned operator is down or censoring."]},"summary":[{"stage":"Stage 0","requirements":[{"satisfied":true,"description":"The project calls itself a rollup."},{"satisfied":true,"description":"State roots are posted to Ethereum L1."},{"satisfied":true,"description":"Inputs for the state transition function are posted to Ethereum L1."},{"satisfied":true,"description":"A source-available node exists that can recreate the state from Ethereum L1 data. Please note that the L2BEAT team has not verified the validity of the node source code. [View code](https://github.com/Loopring/loopring-subgraph-v2)"}]},{"stage":"Stage 1","requirements":[{"satisfied":true,"description":"A complete and functional proof system is deployed."},{"satisfied":true,"description":"Users are able to exit without the help of the permissioned operators."},{"satisfied":false,"description":"Upgrades executed by actors with more centralized control than a Security Council provide less than 7d for users to exit if the permissioned operator is down or censoring."}]},{"stage":"Stage 2","requirements":[{"satisfied":false,"description":"Upgrades unrelated to on-chain provable bugs provide less than 30d to exit."}]}]},"technology":{"stateCorrectness":{"name":"Validity proofs ensure state correctness","description":"Each update to the system state must be accompanied by a ZK proof that ensures that the new state was derived by correctly applying a series of valid user transactions to the previous state. These proofs are then verified on Ethereum by a smart contract.","risks":[],"references":[{"text":"Operators - Loopring design doc","href":"https://github.com/Loopring/protocols/blob/master/packages/loopring_v3/DESIGN.md#operators"}]},"newCryptography":{"name":"Zero knowledge SNARK cryptography is used","description":"Despite their production use zkSNARKs are still new and experimental cryptography. Cryptography has made a lot of advancements in the recent years but all cryptographic solutions rely on time to prove their security. In addition zkSNARKs require a trusted setup to operate.","risks":[{"category":"Funds can be stolen if","text":"the cryptography is broken or implemented incorrectly."}],"references":[{"text":"Operators - Loopring design doc","href":"https://github.com/Loopring/protocols/blob/master/packages/loopring_v3/DESIGN.md#operators"}]},"dataAvailability":{"name":"All data required for proofs is published on chain","description":"All the data that is used to construct the system state is published on chain in the form of cheap calldata. This ensures that it will always be available when needed.","risks":[],"references":[{"text":"Introduction - Loopring design doc","href":"https://github.com/Loopring/protocols/blob/master/packages/loopring_v3/DESIGN.md#introduction"}]},"operator":{"name":"The system has a centralized operator","description":"The operator is the only entity that can propose blocks. A live and trustworthy operator is vital to the health of the system.","risks":[{"category":"MEV can be extracted if","text":"the operator exploits their centralized position and frontruns user transactions."}],"references":[{"text":"ExchangeV3.sol#L315-L322 - Etherscan source code, submitBlocks function","href":"https://etherscan.io/address/0x26d8Ba776a067C5928841985bCe342f75BAE7E82#code#L8022"},{"text":"LoopringIOExchangeOwner.sol#L123-L126 - Etherscan source code, hasAccessTo function call","href":"https://etherscan.io/address/0x153CdDD727e407Cb951f728F24bEB9A5FaaA8512#code#L5539"}]},"forceTransactions":{"name":"Users can force exit the system","description":"Force exit allows the users to escape censorship by withdrawing their funds. The system allows users to force the withdrawal of funds by submitting a request directly to the contract on-chain.  The request must be served within a defined time period. If this does not happen, the system will halt regular operation and permit trustless withdrawal of funds.","risks":[{"category":"Users can be censored if","text":"the operator refuses to include their transactions. However, there exists a mechanism to independently exit the system."}],"references":[{"text":"Forced Withdrawals - Loopring design doc","href":"https://github.com/Loopring/protocols/blob/master/packages/loopring_v3/DESIGN.md#forced-withdrawals"},{"text":"Forced Request Handling - Loopring design doc","href":"https://github.com/Loopring/protocols/blob/master/packages/loopring_v3/DESIGN.md#forced-request-handling"}]},"exitMechanisms":[{"name":"Regular exit","description":"The user initiates the withdrawal by submitting a regular transaction on this chain. When the block containing that transaction is proven the funds become available for withdrawal on L1. Finally the user submits an L1 transaction to claim the funds. This transaction does not require a merkle proof.","risks":[],"references":[{"text":"Withdraw - Loopring design doc","href":"https://github.com/Loopring/protocols/blob/master/packages/loopring_v3/DESIGN.md#withdraw"}]},{"name":"Forced exit","description":"If the user experiences censorship from the operator with regular exit they can submit their withdrawal requests directly on L1. The system is then obliged to service this request. Once the force operation is submitted and if the request is serviced, the operation follows the flow of a regular exit.","risks":[],"references":[{"text":"Forced Request Handling - Loopring design doc","href":"https://github.com/Loopring/protocols/blob/master/packages/loopring_v3/DESIGN.md#forced-request-handling"},{"text":"ExchangeV3.sol#L8118 - Loopring source code, forceWithdraw function","href":"https://etherscan.io/address/0x26d8Ba776a067C5928841985bCe342f75BAE7E82#code#L8118"}]},{"name":"Emergency exit","description":"If the 15d deadline passes and the forced exit is still ignored the user can put the system into Withdrawal Mode, disallowing further state updates. In that case everybody can withdraw by submitting a merkle proof of their funds with their L1 transaction.","risks":[],"references":[{"text":"Forced Request Handling - Loopring design doc","href":"https://github.com/Loopring/protocols/blob/master/packages/loopring_v3/DESIGN.md#forced-request-handling"},{"text":"ExchangeV3.sol#L8159 - Loopring source code, withdrawFromMerkleTree function","href":"https://etherscan.io/address/0x26d8Ba776a067C5928841985bCe342f75BAE7E82#code#L8159"}]}]},"permissions":[{"name":"ProxyOwner","description":"This is a Gnosis Safe with 4 / 6 threshold.  This address is the owner of the following contracts: LoopringIOExchangeOwner, ExchangeV3 (proxy), BlockVerifier, AgentRegistry, LoopringV3. This allows it to grant access to submitting blocks, arbitrarily change the forced withdrawal fee, change the Verifier address and upgrade ExchangeV3 implementation potentially gaining access to all funds in DefaultDepositContract.","accounts":[{"address":"0xDd2A08a1c1A28c1A571E098914cA10F2877D9c97","type":"MultiSig"}],"chain":"ethereum","participants":[{"address":"0x88f8Dbd3dC44c6E2e368258D3eee8EB9A07aF191","type":"EOA"},{"address":"0x3b1D1F89E0b6803174A2dE72e21A6f6f8464d5F1","type":"EOA"},{"address":"0x4CBbD41a2c057cAb8db00AC60f1AB52F36870185","type":"EOA"},{"address":"0x55d79345Afc87806B690C9f96c4D7BfE2Bca8268","type":"EOA"},{"address":"0x7414eA41bd1844f61e8990b209a1Dc301489baa9","type":"EOA"},{"address":"0x1F28F10176F89F4E9985873B84d14e75751BB3D1","type":"EOA"}]},{"name":"Block Submitters","accounts":[{"address":"0x2b263f55Bf2125159Ce8Ec2Bb575C649f822ab46","type":"EOA"},{"address":"0x4774d954D20DB98492B0487BC9F91dc401dBA3aE","type":"EOA"},{"address":"0x53dD53dAf8F112BcA64332eA97398EfbC8a0E234","type":"EOA"},{"address":"0x212e75BF264C4FB3133fA5ef6f47A34367020A1A","type":"EOA"},{"address":"0x238b649E62a0C383b54060b1625516b489183843","type":"EOA"},{"address":"0x3243Ed9fdCDE2345890DDEAf6b083CA4cF0F68f2","type":"EOA"},{"address":"0xbfCc986cA6E6729c1D191cC0179ef060b87a7C42","type":"EOA"},{"address":"0xA921aF7e4dd279e1325399E4E3Bf13d0E57f48Fc","type":"EOA"},{"address":"0xeadb3d065f8d15cc05e92594523516aD36d1c834","type":"EOA"},{"address":"0xB1a6BF349c947A540a5fe6f1e89992ACDad836AB","type":"EOA"},{"address":"0xeDEE915Ae45Cc4B2FDd1Ce12a2f70dCa0B2AD9e5","type":"EOA"},{"address":"0xE6b0cf8ed864F9bfEBa1b03bac785B5aC82cf095","type":"EOA"},{"address":"0x487e8Be2BaD383b5B62fC5fb46005A8Fac10E341","type":"EOA"}],"description":"Actors who can submit new blocks, updating the L2 state on L1."},{"name":"RollupOwner","accounts":[{"address":"0x153CdDD727e407Cb951f728F24bEB9A5FaaA8512","type":"Contract"}],"description":"The rollup owner can submit blocks, set rollup parameters and shutdown the exchange."}],"contracts":{"addresses":[{"name":"ExchangeV3","address":"0x0BABA1Ad5bE3a5C0a66E7ac838a129Bf948f1eA4","upgradeability":{"proxyType":"ZeppelinOS proxy","admins":["0xDd2A08a1c1A28c1A571E098914cA10F2877D9c97"],"implementations":["0x26d8Ba776a067C5928841985bCe342f75BAE7E82"],"immutable":false},"chain":"ethereum","description":"Main Loopring contract.","upgradableBy":["ProxyOwner"],"upgradeDelay":"No delay"},{"name":"LoopringIOExchangeOwner","address":"0x153CdDD727e407Cb951f728F24bEB9A5FaaA8512","chain":"ethereum","description":"Contract used by the Prover to submit exchange blocks with zkSNARK proofs that are later processed and verified by the BlockVerifier contract. It allows to give or revoke permissions to submit blocks and to open block submission to everyone."},{"name":"DefaultDepositContract","address":"0x674bdf20A0F284D710BC40872100128e2d66Bd3f","chain":"ethereum","description":"ERC 20 token basic deposit contract. Handles user deposits and withdrawals."},{"name":"LoopringV3","address":"0xe56D6ccab6551932C0356E4e8d5dAF0630920C71","chain":"ethereum","description":"Contract managing LRC staking for exchanges (one Loopring contract can manage many exchanges). It also allows to change the forced withdrawal fee and the Verifier address."},{"name":"FastWithdrawalAgent","address":"0xec3Cc6Cf0252565b56FC7AC396017Df5b9B78a31","chain":"ethereum","description":"Auxiliary contract allowing users to process fast withdrawals."},{"name":"ForcedWithdrawalAgent","address":"0x52ea1971C05B0169c02a0bBeC05Fe8b5E3A24470","chain":"ethereum","description":"Auxiliary contract able to force withdrawals from L1 on behalf of users."},{"name":"BlockVerifier","address":"0x6150343E0F43A17519c0327c41eDd9eBE88D01ef","chain":"ethereum","description":"zkSNARK Verifier based on ethsnarks library.","upgradableBy":["ProxyOwner"],"upgradeDelay":"No delay","upgradeConsiderations":"The Verifier contract address can be changed by the ProxyOwner."},{"name":"AgentRegistry","address":"0x39B9bf169a7e225ba037C443A40460c77438ea14","chain":"ethereum","description":"Agent registry that is used by all other Loopring contracts. Currently used are FastWithdrawalAgent, ForcedWithdrawalAgent, DestroyableWalletAgent and a number of LoopringAmmPool contracts."}],"risks":[{"category":"Funds can be stolen if","text":"a contract receives a malicious code upgrade. There is no delay on code upgrades.","isCritical":true}]},"stateValidation":{"description":"Each update to the system state must be accompanied by a ZK proof that ensures that the new state was derived by correctly applying a series of valid user transactions to the previous state. These proofs are then verified on Ethereum by a smart contract.","categories":[{"title":"ZK Circuits","description":"Loopring utilizes Groth16 for their proving system. The source code of the circuits can be found [here](https://github.com/Loopring/protocol3-circuits).","risks":[{"category":"Funds can be lost if","text":"the proof system is implemented incorrectly."}]},{"title":"Verification Keys Generation","description":"Groth16 requires a circuit specific trusted setup, so they run their own ceremony. The first phase is run using Powers of Tau ceremony. Some of the instructions on how to regenerate the verification keys can be found [here](https://github.com/Loopring/trusted_setup/tree/loopring-3.6.2)."}],"proofVerification":{"shortDescription":"Loopring is a DEX rollup on Ethereum.","aggregation":false,"requiredTools":[{"name":"Custom tool","version":"v3.6.2","link":"https://github.com/Loopring/trusted_setup/tree/loopring-3.6.2"}],"verifiers":[{"name":"LoopringVerifier","description":"Loopring utilizes Groth16 for their proving system.","verified":"no","contractAddress":"0x6150343E0F43A17519c0327c41eDd9eBE88D01ef","chainId":1,"subVerifiers":[{"name":"Main circuit","proofSystem":"Groth16","mainArithmetization":"R1CS+QAP","mainPCS":"N/A","trustedSetup":"POT18 + circuit specific","link":"https://github.com/Loopring/protocol3-circuits.git"}]}]}},"milestones":[{"name":"Loopring ZK Rollup is live","link":"https://medium.com/loopring-protocol/loopring-deployed-protocol-3-0-on-ethereum-a33103c9e5bf","date":"2019-12-04T00:00:00Z","description":"Loopring Protocol 3.0 is fully operational with support for orderbook trading on WeDex.","type":"general"},{"name":"Loopring Protocol 3.6 Pre-release","link":"https://medium.loopring.io/loopring-3-6-is-code-complete-and-security-audit-has-begun-68a642506e31","date":"2020-09-22T00:00:00Z","description":"Enhancements in transfers, order-book trading and AMM swap.","type":"general"},{"name":"Loopring’s ZK Rollup AMM is Live","link":"https://medium.loopring.io/looprings-zkrollup-amm-is-live-2f8251cd0fcd","date":"2020-12-02T00:00:00Z","description":"Improved implementation, enabling gas-free instant swaps and liquidity changes.","type":"general"},{"name":"Loopring Supports Payments","link":"https://medium.loopring.io/loopring-pay-is-live-zkrollup-transfers-on-ethereum-770d35213408","date":"2020-06-06T00:00:00Z","description":"Support for ERC20 transfers is live on Loopring.","type":"general"},{"name":"DeFi Port is Live on Loopring","link":"https://medium.loopring.io/loopring-l2-defi-port-cd6e811250a9","date":"2022-09-27T00:00:00Z","description":"Dutch auctions, lending, and other DeFi functions can be performed on Loopring.","type":"general"},{"name":"Loopring Supports NFTs","link":"https://medium.loopring.io/loopring-now-supports-nfts-on-l2-29174a343d0d","date":"2021-08-24T00:00:00Z","description":"Loopring supports NFT minting, trading, and transfers.","type":"general"},{"name":"Loopring DEX is online","link":"https://medium.loopring.io/loopring-launches-zkrollup-exchange-loopring-io-d6a85beeed21","date":"2020-02-27T00:00:00Z","description":"ZK Rollup trading is live, as Loopring launches their order book based exchange.","type":"general"}]}